{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Component, Injectable } from '@angular/core';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nimport { SaveUser } from 'src/app/Models/SaveUser';\nimport * as i0 from \"@angular/core\";\nexport class MenuComponent {\n  constructor(ServicePermission, router, Authentication_permissionService, s2) {\n    this.ServicePermission = ServicePermission;\n    this.router = router;\n    this.Authentication_permissionService = Authentication_permissionService;\n    this.s2 = s2;\n    this.IsAccess = false;\n    this.Authentication_permissionsUser = {};\n    this.SaveLoginUserIfJWT = {};\n    this.Authentication_permissionsToken = [];\n    this.IsFailed_UserId = false;\n    this.IsFailed_UserPass = false;\n    this.Detailes_Uncorrect = false;\n    this.done = \"\";\n    this.ToShowPass = false;\n    this.ToHidePass = false;\n    this.SaveJWT = \"\";\n    this.date = new Date();\n    this.Savedate = \"\";\n    this.creditionals = new Creditionals();\n    this.saveUser = new SaveUser();\n    this.CCC = 1;\n    this.TaskList = 0;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      setTimeout(() => {\n        _this.IfLoginExoireToken();\n      }, 113000);\n    })();\n  }\n\n  IfLoginExoireToken() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let user = localStorage.getItem(\"User\");\n      _this2.SaveLoginUserIfJWT = yield _this2.Authentication_permissionService.GetNewUserCreditionalIfTokenUser_ExpireDate(user);\n      _this2.creditionals.username = _this2.SaveLoginUserIfJWT.user_name;\n      _this2.creditionals.password = _this2.SaveLoginUserIfJWT.pass;\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"User\");\n\n      _this2.login();\n    })();\n  }\n\n  AcceseeArea(val) {\n    var _a;\n\n    alert(val);\n\n    if (typeof localStorage.getItem(\"token\") === 'string') {\n      let ValToken = (_a = localStorage.getItem(\"token\")) === null || _a === void 0 ? void 0 : _a.toString();\n\n      if (typeof ValToken === 'string' && typeof ValToken != null) {\n        this.IsAccess = false;\n        alert(\"TaskList\");\n        return;\n      }\n    }\n\n    this.IsAccess = true;\n    return;\n  }\n\n  CCC_Chat(val) {\n    this.ChoiceNavigate = \"/CCC\";\n  }\n\n  Passdown(val) {\n    this.ChoiceNavigate = \"/TaskList\";\n  }\n\n  login() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this3.Authentication_permissionsUser = yield _this3.Authentication_permissionService.GotToken(_this3.creditionals);\n\n        if (_this3.Authentication_permissionsUser.user_name != null && _this3.Authentication_permissionsUser.jwt_token != null) {\n          _this3.saveUser.username = _this3.Authentication_permissionsUser.first_name;\n          _this3.saveUser.jwt = _this3.Authentication_permissionsUser.jwt_token;\n\n          if (_this3.saveUser.username != null && _this3.saveUser.jwt != null) {\n            localStorage.setItem(\"token\", _this3.saveUser.jwt);\n            localStorage.setItem(\"User\", _this3.saveUser.username);\n            localStorage.setItem(\"NavigateTo\", _this3.ChoiceNavigate);\n            _this3.IsAccess = false;\n\n            _this3.router.navigateByUrl(_this3.ChoiceNavigate);\n\n            return;\n          }\n        }\n      } catch (ex) {\n        alert(\"Not Authorized 401\" + ex.message);\n      }\n    })();\n  }\n\n  cancel() {\n    this.IsAccess = false;\n  }\n\n  ShowPass() {\n    var _a;\n\n    (_a = document.getElementById(\"pass\")) === null || _a === void 0 ? void 0 : _a.setAttribute(\"type\", \"text\");\n    this.ToShowPass = false;\n    this.ToHidePass = true;\n  }\n\n  HidePass() {\n    var _a;\n\n    (_a = document.getElementById(\"pass\")) === null || _a === void 0 ? void 0 : _a.setAttribute(\"type\", \"password\");\n    this.ToShowPass = true;\n    this.ToHidePass = false;\n  }\n\n  CheckIfStart(val) {\n    var _a;\n\n    if (val.target.value.length > 0) {\n      this.ToShowPass = true;\n      this.ToHidePass = false;\n    } else {\n      this.ToShowPass = false;\n      this.ToHidePass = false;\n      (_a = document.getElementById(\"pass\")) === null || _a === void 0 ? void 0 : _a.setAttribute(\"type\", \"password\");\n    }\n  }\n\n}\nMenuComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: MenuComponent,\n  factory: MenuComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\menu\\menu.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injectable, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Authentication_permissionsModel } from 'src/app/Models/Authentication_permissionsModel';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nimport { SaveUser } from 'src/app/Models/SaveUser';\nimport { Authentication_permissionsService } from 'src/app/Services/Authentication_permissionsService';\nimport { ServiceDataGLFollow } from 'src/app/Services/FollowDataService';\nimport { ModuleService } from 'src/app/Services/ModuleService';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MenuComponent implements OnInit {\n\n  constructor(public ServicePermission : ServiceDataGLFollow ,public router: Router, public Authentication_permissionService : Authentication_permissionsService, public s2: ModuleService) { }\n  public IsAccess: boolean=false;\n  public User_id: any;\n  public Userpass: any;\n  public Authentication_permissionsUser: Authentication_permissionsModel   = {}\n  public SaveLoginUserIfJWT : Authentication_permissionsModel = {};\n  public Authentication_permissionsToken: Authentication_permissionsModel [] = [];\n\n  public IsFailed_UserId: boolean = false;\n\n  public IsFailed_UserPass: boolean = false;\n\n  public Detailes_Uncorrect: boolean = false;\n\n  public done: string=\"\";\n\n  public ToShowPass = false;\n\n  public ToHidePass = false;\n\n  public Select: any;\n\n  public SelectCCC: any;\n\n  public SelectPassdown:  any;\n\n  public cookiesUser: any;\n\n  public cookiesPass: any;\n\n  public cookieShift: any;\n\n  public ActivateURL: any;\n\n  public FirstName: any\n\n  public SaveJWT : string=\"\";\n\n  public date: Date = new Date();\n\n  public Savedate: string = \"\";\n\n  public ChoiceNavigate : any;\n  \n  public creditionals  = new Creditionals();\n\n  public saveUser =  new SaveUser();\n\n  public RefresheCreditional: any;\n\n  public CCC:any=1;\n\n  public TaskList:any=0;\n\n  async ngOnInit() \n  {\n      setTimeout(() => {\n      this.IfLoginExoireToken();\n     },113000)    \n  }\n\n public async IfLoginExoireToken()\n {\n  let user  = localStorage.getItem(\"User\")\n  this.SaveLoginUserIfJWT=  await this.Authentication_permissionService.GetNewUserCreditionalIfTokenUser_ExpireDate(user);\n  this.creditionals.username = this.SaveLoginUserIfJWT.user_name;\n  this.creditionals.password = this.SaveLoginUserIfJWT.pass;\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"User\");\n  this.login();\n }\n\n public  AcceseeArea(val?: any)\n  {\n    alert(val);\n   \n    if(typeof localStorage.getItem(\"token\") === 'string')\n    {\n       let ValToken = localStorage.getItem(\"token\")?.toString();\n       if(typeof ValToken === 'string' && typeof ValToken != null)\n        { \n          this.IsAccess = false;\n          alert(\"TaskList\");    \n          return;\n                   \n        }\n    }\n    this.IsAccess = true;\n    return;\n  }\n\n  CCC_Chat(val: any) \n   {\n    this.ChoiceNavigate = \"/CCC\"\n   }\n\n   Passdown(val: any)\n  {\n    this.ChoiceNavigate=\"/TaskList\"\n  }\n\n async login()\n  {\n    try\n    {\n      \n      this.Authentication_permissionsUser = (await this.Authentication_permissionService.GotToken(this.creditionals));\n      \n      if( this.Authentication_permissionsUser.user_name!= null && this.Authentication_permissionsUser.jwt_token != null)\n      {\n        this.saveUser.username = this.Authentication_permissionsUser.first_name\n        this.saveUser.jwt      = this.Authentication_permissionsUser.jwt_token;\n        if(this.saveUser.username != null && this.saveUser.jwt != null)\n        {\n             localStorage.setItem(\"token\" , this.saveUser.jwt);\n             localStorage.setItem(\"User\",this.saveUser.username);\n             localStorage.setItem(\"NavigateTo\", this.ChoiceNavigate);\n             this.IsAccess = false;\n             this.router.navigateByUrl(this.ChoiceNavigate);\n             return;\n        }      \n      }     \n    }\n    catch(ex: any)\n    {\n      alert(\"Not Authorized 401\" + ex.message);\n    }\n  }\n\n   cancel()\n  {\n    this.IsAccess = false;\n  }\n\n  ShowPass()\n  {\n    document.getElementById(\"pass\")?.setAttribute(\"type\", \"text\");\n    this.ToShowPass = false;\n    this.ToHidePass = true;\n  }\n\n  HidePass()\n  {\n      \n    document.getElementById(\"pass\")?.setAttribute(\"type\", \"password\");\n    this.ToShowPass = true;\n    this.ToHidePass = false;\n    \n  }\n\n  CheckIfStart(val: any)\n  {\n    \n    if(val.target.value.length > 0)\n    {\n       this.ToShowPass = true;\n       this.ToHidePass = false;\n    }\n\n    else\n    {\n      this.ToShowPass = false;\n      this.ToHidePass = false;\n      document.getElementById(\"pass\")?.setAttribute(\"type\", \"password\");\n    }\n     \n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}