{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Component, Injectable } from '@angular/core';\nimport { UserModel } from 'src/app/Models/UserModel';\nimport * as i0 from \"@angular/core\";\nexport class ShowTasklistTableComponent {\n  constructor(Home, ContactService, s, route, contacts, Menu) {\n    this.Home = Home;\n    this.ContactService = ContactService;\n    this.s = s;\n    this.route = route;\n    this.contacts = contacts;\n    this.Menu = Menu;\n    this.ActiveRoute = \"TaskList\";\n    this.Datalist = [];\n    this.BuDataList = [];\n    this.ShowContact = [];\n    this.showName = localStorage.getItem(\"User\");\n    this.AddUserTochat = new UserModel();\n    this.IfUnauthorized = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.Datalist = yield _this.s.GetAllTasksList();\n      } catch (ex) {\n        _this.route.navigateByUrl(\"/Home\");\n\n        alert(\"Some error occured pls try again later\");\n        localStorage.removeItem(\"User\");\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"Command\");\n        localStorage.removeItem(\"Role\");\n      }\n    })();\n  }\n\n  deleteItem(val, name) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.IfUnauthorized = false;\n\n      try {\n        if (localStorage.getItem(\"Command\") == \"GL\" || localStorage.getItem(\"Command\") == \"POC\" || localStorage.getItem(\"Role\") == \"Admin\") {\n          yield _this2.s.DeleteItemFormGLTable(val);\n          setTimeout(() => {\n            window.location.reload();\n          }, 1500);\n        } else {\n          _this2.IfUnauthorized = true;\n        }\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  Hide_Alarm_Authorized() {\n    this.IfUnauthorized = false;\n  }\n\n  Logout() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      try {\n        yield _this3.ContactService.Delete_User((_a = localStorage.getItem(\"User\")) === null || _a === void 0 ? void 0 : _a.toString());\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"User\");\n        localStorage.removeItem(\"Command\");\n        localStorage.removeItem(\"Role\");\n\n        _this3.route.navigateByUrl(\"/Home\");\n      } catch (ex) {\n        alert(ex.message + \"problem\");\n      }\n    })();\n  }\n\n}\nShowTasklistTableComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ShowTasklistTableComponent,\n  factory: ShowTasklistTableComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\show-tasklist-table\\show-tasklist-table.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Injectable, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Authentication_permissionsModel } from 'src/app/Models/Authentication_permissionsModel';\nimport { FollowDataupdate } from 'src/app/Models/FollowUpdateDataModel';\nimport { UserModel } from 'src/app/Models/UserModel';\nimport { Authentication_permissionsService } from 'src/app/Services/Authentication_permissionsService';\nimport { ContactsOnlineService } from 'src/app/Services/ContactsOnlineService';\nimport { ServiceDataGLFollow } from 'src/app/Services/FollowDataService';\nimport { HomeComponent } from '../home/home.component';\nimport { MenuComponent } from '../menu/menu.component';\n\n@Component({\n  selector: 'app-show-tasklist-table',\n  templateUrl: './show-tasklist-table.component.html',\n  styleUrls: ['./show-tasklist-table.component.css']\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShowTasklistTableComponent implements OnInit {\n\n  public ActiveRoute: any = \"TaskList\";\n  public Datalist: FollowDataupdate   [] = [];\n  public BuDataList: FollowDataupdate [] = [];\n  public ShowContact: Authentication_permissionsModel[] = [];\n  constructor(public Home: HomeComponent,public ContactService: ContactsOnlineService,public s: ServiceDataGLFollow, public route: Router, public contacts : Authentication_permissionsService, public Menu: MenuComponent ) { }\n  public showName = localStorage.getItem(\"User\");\n  public AddUserTochat: UserModel = new UserModel(); \n  public IfUnauthorized = false;\n\n  async ngOnInit() \n  {\n    try\n     {\n        this.Datalist = await this.s.GetAllTasksList();\n     }\n    catch (ex: any)\n    {\n      this.route.navigateByUrl(\"/Home\");\n      alert(\"Some error occured pls try again later\");\n      localStorage.removeItem(\"User\");\n      localStorage.removeItem(\"token\"); \n      localStorage.removeItem(\"Command\");\n      localStorage.removeItem(\"Role\"); \n     }\n }\n\npublic  async deleteItem(val:any, name: any)\n {\n   this.IfUnauthorized = false;\n  try \n   { \n    if(localStorage.getItem(\"Command\") == \"GL\" ||localStorage.getItem(\"Command\") ==\"POC\" || localStorage.getItem(\"Role\") == \"Admin\")     \n      {\n     (await this.s.DeleteItemFormGLTable(val));   \n        setTimeout(()=>{\n        window.location.reload();\n          },1500)  \n      }\n      else\n      {\n        this.IfUnauthorized = true;      \n        \n      }\n   } \n   catch (ex: any) \n   {\n     alert(ex.message);   \n   }\n\n  }\n\n  Hide_Alarm_Authorized()\n  {\n    this.IfUnauthorized = false;\n\n  }\n\n\n  public async Logout()\n  {\n    try\n    {\n     await this.ContactService.Delete_User(localStorage.getItem(\"User\")?.toString());\n     localStorage.removeItem(\"token\");\n     localStorage.removeItem(\"User\");\n     localStorage.removeItem(\"Command\");\n     localStorage.removeItem(\"Role\");\n     this.route.navigateByUrl(\"/Home\");\n    }\n    catch(ex: any)\n    {\n      alert(ex.message + \"problem\");\n    }\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}