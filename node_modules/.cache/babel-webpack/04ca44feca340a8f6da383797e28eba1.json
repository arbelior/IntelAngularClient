{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ShowTasklistTableComponent = class ShowTasklistTableComponent {\n  constructor(s, route, contacts) {\n    this.s = s;\n    this.route = route;\n    this.contacts = contacts;\n    this.ActiveRoute = \"TaskList\";\n    this.Datalist = [];\n    this.BuDataList = [];\n    this.If_refresh = false;\n    this.ShowContact = [];\n    this.showName = this.s.SaveJWT;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this.If_refresh == true) {\n          _this.Datalist = _this.BuDataList;\n          _this.If_refresh = false;\n        }\n\n        _this.Datalist = yield _this.s.GetAllTasksList();\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  deleteItem(val, name) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      //  alert(\"Hi\" +\" \" + name + \", If you sure that do you want to delete please select OK\" +\" id:  \" +\" \" + val);\n      _this2.ShowContact;\n\n      try {\n        yield _this2.s.DeleteItemFormGLTable(val);\n        setTimeout(() => {\n          // window.location.reload();\n          _this2.If_refresh = true;\n\n          _this2.Ifrefrshing();\n\n          _this2.ngOnInit();\n        }, 1500);\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  Ifrefrshing() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this3.If_refresh == true) {\n        alert(\"good\");\n        _this3.s.SaveJWT = _this3.showName;\n        _this3.BuDataList = yield _this3.s.GetAllTasksList();\n        return;\n      }\n\n      return;\n    })();\n  }\n\n};\nShowTasklistTableComponent = __decorate([Component({\n  selector: 'app-show-tasklist-table',\n  templateUrl: './show-tasklist-table.component.html',\n  styleUrls: ['./show-tasklist-table.component.css'],\n  styles: []\n})], ShowTasklistTableComponent);\nexport { ShowTasklistTableComponent };","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\show-tasklist-table\\show-tasklist-table.component.ts"],"names":[],"mappings":";;AACA,SAAS,SAAT,QAAkC,eAAlC;AAWA,IAAa,0BAA0B,GAAvC,MAAa,0BAAb,CAAuC;AAOrC,EAAA,WAAA,CAAmB,CAAnB,EAAkD,KAAlD,EAAwE,QAAxE,EAAwF;AAArE,SAAA,CAAA,GAAA,CAAA;AAA+B,SAAA,KAAA,GAAA,KAAA;AAAsB,SAAA,QAAA,GAAA,QAAA;AALjE,SAAA,WAAA,GAAmB,UAAnB;AACA,SAAA,QAAA,GAAkC,EAAlC;AACA,SAAA,UAAA,GAAkC,EAAlC;AACA,SAAA,UAAA,GAAsB,KAAtB;AACA,SAAA,WAAA,GAAiD,EAAjD;AAEA,SAAA,QAAA,GAAW,KAAK,CAAL,CAAO,OAAlB;AADuF;;AAIxF,EAAA,QAAQ,GAAA;AAAA;;AAAA;AACZ,UACC;AACE,YAAG,KAAI,CAAC,UAAL,IAAmB,IAAtB,EACA;AACG,UAAA,KAAI,CAAC,QAAL,GAAkB,KAAI,CAAC,UAAvB;AACA,UAAA,KAAI,CAAC,UAAL,GAAkB,KAAlB;AACF;;AAED,QAAA,KAAI,CAAC,QAAL,SAAsB,KAAI,CAAC,CAAL,CAAO,eAAP,EAAtB;AACD,OATF,CAUA,OAAO,EAAP,EACA;AACG,QAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACF;AAdW;AAed;;AAEK,EAAA,UAAU,CAAC,GAAD,EAAU,IAAV,EAAmB;AAAA;;AAAA;AAGlC;AACA,MAAA,MAAI,CAAC,WAAL;;AACA,UACC;AAEE,cAAM,MAAI,CAAC,CAAL,CAAO,qBAAP,CAA6B,GAA7B,CAAN;AAEE,QAAA,UAAU,CAAC,MAAI;AACd;AACA,UAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;;AACA,UAAA,MAAI,CAAC,WAAL;;AACA,UAAA,MAAI,CAAC,QAAL;AACM,SALG,EAKF,IALE,CAAV;AAMJ,OAXD,CAYC,OAAO,EAAP,EACA;AACE,QAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACD;AApBgC;AAsBlC;;AAEc,EAAA,WAAW,GAAA;AAAA;;AAAA;AAExB,UAAG,MAAI,CAAC,UAAL,IAAmB,IAAtB,EACA;AACE,QAAA,KAAK,CAAC,MAAD,CAAL;AACA,QAAA,MAAI,CAAC,CAAL,CAAO,OAAP,GAAiB,MAAI,CAAC,QAAtB;AACA,QAAA,MAAI,CAAC,UAAL,SAAwB,MAAI,CAAC,CAAL,CAAO,eAAP,EAAxB;AACA;AACD;;AAED;AAVwB;AAWzB;;AA/DqC,CAAvC;AAAa,0BAA0B,GAAA,UAAA,CAAA,CALtC,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,yBADD;AAET,EAAA,WAAW,EAAE,sCAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,qCAAD,CAHF;;AAAA,CAAD,CAK6B,CAAA,EAA1B,0BAA0B,CAA1B;SAAA,0B","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Authentication_permissionsModel } from 'src/app/Models/Authentication_permissionsModel';\nimport { FollowDataupdate } from 'src/app/Models/FollowUpdateDataModel';\nimport { ServiceDataGLFollow } from 'src/app/Services/FollowDataService';\n\n@Component({\n  selector: 'app-show-tasklist-table',\n  templateUrl: './show-tasklist-table.component.html',\n  styleUrls: ['./show-tasklist-table.component.css']\n})\nexport class ShowTasklistTableComponent implements OnInit {\n\n  public ActiveRoute: any = \"TaskList\";\n  public Datalist: FollowDataupdate   [] = [];\n  public BuDataList: FollowDataupdate [] = [];\n  public If_refresh: boolean = false;\n  public ShowContact: Authentication_permissionsModel[] = [];\n  constructor(public s: ServiceDataGLFollow, public route: Router, public contacts : Authe ) { }\n  public showName = this.s.SaveJWT;\n\n\n  async ngOnInit() {\n    try\n     {\n       if(this.If_refresh == true)\n       {\n          this.Datalist   = this.BuDataList;\n          this.If_refresh = false;\n       }\n       \n       this.Datalist = await this.s.GetAllTasksList();\n     }\n    catch (ex: any)\n    {\n       alert(ex.message);\n    }\n }\n\n async deleteItem(val:any, name: any)\n {\n\n  //  alert(\"Hi\" +\" \" + name + \", If you sure that do you want to delete please select OK\" +\" id:  \" +\" \" + val);\n  this.ShowContact\n  try \n   {\n\n     await this.s.DeleteItemFormGLTable(val); \n    \n       setTimeout(()=>{\n        // window.location.reload();\n        this.If_refresh = true;\n        this.Ifrefrshing();\n        this.ngOnInit();\n             },1500)  \n  } \n   catch (ex: any) \n   {\n     alert(ex.message);  \n   }\n\n }\n\n  public async  Ifrefrshing() \n {\n   if(this.If_refresh == true)\n   {\n     alert(\"good\");\n     this.s.SaveJWT = this.showName;\n     this.BuDataList = await this.s.GetAllTasksList();\n     return;\n   }\n\n   return;\n }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}