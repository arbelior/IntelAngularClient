{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ChatModel } from 'src/app/Models/ChatModel';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nlet CCCComponent = class CCCComponent {\n  constructor(Authentication_permissionService, ChatService, route) {\n    this.Authentication_permissionService = Authentication_permissionService;\n    this.ChatService = ChatService;\n    this.route = route;\n    this.IfLogin = false;\n    this.ShowLogin = true;\n    this.ShowLogout = false;\n    this.IfUserlogin = false;\n    this.user = {};\n    this.creditionals = new Creditionals();\n    this.AddMessage = new ChatModel();\n    this.AllMessages = [];\n    this.ShowContact = [];\n    this.AddContact = {};\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      _this.ShowUser = (_a = localStorage.getItem(\"User\")) === null || _a === void 0 ? void 0 : _a.toString();\n      setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n        try {\n          _this.AllMessages = yield _this.ChatService.GetAllMessages();\n        } catch (ex) {\n          alert(ex.message);\n        }\n      }));\n    })();\n  }\n\n  SendMessgae() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      try {\n        _this2.AddMessage.name = (_a = localStorage.getItem(\"User\")) === null || _a === void 0 ? void 0 : _a.toString();\n        _this2.AddMessage.message = _this2.sendMessage;\n        yield _this2.ChatService.AddMessageFun(_this2.AddMessage);\n\n        _this2.ngOnInit();\n\n        window.location.reload();\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  LogOut() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"User\");\n    this.route.navigateByUrl(\"/Home\");\n  }\n\n};\nCCCComponent = __decorate([Component({\n  selector: 'app-ccc',\n  templateUrl: './ccc.component.html',\n  styleUrls: ['./ccc.component.css'],\n  styles: []\n})], CCCComponent);\nexport { CCCComponent };","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\ccc\\ccc.component.ts"],"names":[],"mappings":";;AAAA,SAAS,SAAT,QAAkC,eAAlC;AAGA,SAAS,SAAT,QAA0B,0BAA1B;AACA,SAAS,YAAT,QAA6B,6BAA7B;AASA,IAAa,YAAY,GAAzB,MAAa,YAAb,CAAyB;AAcvB,EAAA,WAAA,CAAmB,gCAAnB,EAAgG,WAAhG,EACU,KADV,EACuB;AADJ,SAAA,gCAAA,GAAA,gCAAA;AAA6E,SAAA,WAAA,GAAA,WAAA;AACtF,SAAA,KAAA,GAAA,KAAA;AAbH,SAAA,OAAA,GAAe,KAAf;AACA,SAAA,SAAA,GAAe,IAAf;AACA,SAAA,UAAA,GAAe,KAAf;AACA,SAAA,WAAA,GAAe,KAAf;AAGA,SAAA,IAAA,GAAyC,EAAzC;AACA,SAAA,YAAA,GAAgB,IAAI,YAAJ,EAAhB;AACA,SAAA,UAAA,GAAyB,IAAI,SAAJ,EAAzB;AACA,SAAA,WAAA,GAA6B,EAA7B;AACA,SAAA,WAAA,GAAwB,EAAxB;AACA,SAAA,UAAA,GAA+C,EAA/C;AAEqB;;AAEhB,EAAA,QAAQ,GAAA;AAAA;;AAAA;;;AAEjB,MAAA,KAAI,CAAC,QAAL,GAAgB,CAAA,EAAA,GAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,CAAA,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4B,EAAA,CAAE,QAAF,EAA5C;AACC,MAAA,UAAU,iCAAC,aAAW;AACtB,YACA;AACK,UAAA,KAAI,CAAC,WAAL,SAAyB,KAAI,CAAC,WAAL,CAAiB,cAAjB,EAAzB;AACJ,SAHD,CAIA,OAAM,EAAN,EACA;AACE,UAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACD;AACD,OATU,EAAV;AAHgB;AAanB;;AAEY,EAAA,WAAW,GAAA;AAAA;;AAAA;;;AAEtB,UACA;AACI,QAAA,MAAI,CAAC,UAAL,CAAgB,IAAhB,GAA0B,CAAA,EAAA,GAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,CAAA,MAA4B,IAA5B,IAA4B,EAAA,KAAA,KAAA,CAA5B,GAA4B,KAAA,CAA5B,GAA4B,EAAA,CAAE,QAAF,EAAtD;AACA,QAAA,MAAI,CAAC,UAAL,CAAgB,OAAhB,GAA0B,MAAI,CAAC,WAA/B;AACA,cAAM,MAAI,CAAC,WAAL,CAAiB,aAAjB,CAA+B,MAAI,CAAC,UAApC,CAAN;;AACA,QAAA,MAAI,CAAC,QAAL;;AACA,QAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AACH,OAPD,CASA,OAAM,EAAN,EACA;AACE,QAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACD;AAdqB;AAevB;;AAED,EAAA,MAAM,GAAA;AAEJ,IAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;AACA,IAAA,YAAY,CAAC,UAAb,CAAwB,MAAxB;AACA,SAAK,KAAL,CAAW,aAAX,CAAyB,OAAzB;AACD;;AAtDsB,CAAzB;AAAa,YAAY,GAAA,UAAA,CAAA,CALxB,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,SADD;AAET,EAAA,WAAW,EAAE,sBAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,qBAAD,CAHF;;AAAA,CAAD,CAKe,CAAA,EAAZ,YAAY,CAAZ;SAAA,Y","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Authentication_permissionsModel } from 'src/app/Models/Authentication_permissionsModel';\nimport { ChatModel } from 'src/app/Models/ChatModel';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nimport { Authentication_permissionsService } from 'src/app/Services/Authentication_permissionsService';\nimport { ChatService } from 'src/app/Services/ChatService';\n\n@Component({\n  selector: 'app-ccc',\n  templateUrl: './ccc.component.html',\n  styleUrls: ['./ccc.component.css']\n})\nexport class CCCComponent implements OnInit {\n\n  public IfLogin     =  false;\n  public ShowLogin   =  true;\n  public ShowLogout  =  false;\n  public IfUserlogin =  false;\n  public ShowUser:any; \n  public sendMessage: any;\n  public user : Authentication_permissionsModel = {};\n  public creditionals  = new Creditionals();\n  public AddMessage : ChatModel = new ChatModel();\n  public AllMessages : ChatModel [] = [];\n  public ShowContact: string[] = [];\n  public AddContact : Authentication_permissionsModel = {}\n  constructor(public Authentication_permissionService : Authentication_permissionsService, public ChatService: ChatService\n    ,public route: Router ) {}\n\n public async ngOnInit() {\n\n     this.ShowUser = localStorage.getItem(\"User\")?.toString();\n      setTimeout(async () =>{\n      try\n      {        \n           this.AllMessages = await this.ChatService.GetAllMessages();      \n      }\n      catch(ex: any)\n      {\n        alert(ex.message);\n      }\n     });  \n  }\n  \n  public async SendMessgae()\n  {\n    try\n    {\n        this.AddMessage.name    = localStorage.getItem(\"User\")?.toString();\n        this.AddMessage.message = this.sendMessage;\n        await this.ChatService.AddMessageFun(this.AddMessage);\n        this.ngOnInit();\n        window.location.reload();\n    }\n\n    catch(ex: any)\n    {\n      alert(ex.message);\n    }\n  }\n\n  LogOut()\n  {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"User\");\n    this.route.navigateByUrl(\"/Home\");\n  }\n\n \n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}