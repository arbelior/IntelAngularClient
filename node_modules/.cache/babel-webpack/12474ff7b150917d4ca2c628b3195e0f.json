{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/ContactsOnlineService\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/Services/ChatService\";\nimport * as i4 from \"../header/header.component\";\nimport * as i5 from \"../menu/menu.component\";\nimport * as i6 from \"../footer/footer.component\";\nexport class LayoutComponent {\n  constructor(Service_contacts, route, ChatService) {\n    this.Service_contacts = Service_contacts;\n    this.route = route;\n    this.ChatService = ChatService;\n    this.date = new Date();\n    this.contactsArray = [];\n    this.GetAllMessages = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      setInterval( /*#__PURE__*/_asyncToGenerator(function* () {\n        if (_this.date.getHours() == 3 && _this.date.getMinutes() == 7 && localStorage.getItem(\"User\") != null) {\n          _this.contactsArray = yield _this.Service_contacts.GetAllUsers();\n\n          _this.contactsArray.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (x) {\n              yield _this.Service_contacts.Delete_User(x.name);\n            });\n\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n\n          _this.GetAllMessages = yield _this.ChatService.GetAllMessages();\n\n          _this.GetAllMessages.map( /*#__PURE__*/function () {\n            var _ref3 = _asyncToGenerator(function* (x) {\n              yield _this.ChatService.DeleteMessage(x.id);\n            });\n\n            return function (_x2) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n\n          localStorage.removeItem(\"User\");\n          localStorage.removeItem(\"token\");\n\n          _this.route.navigateByUrl(\"/Home\");\n\n          window.location.reload();\n          return;\n        }\n      }), 3000);\n      return;\n    })();\n  }\n\n}\n\nLayoutComponent.ɵfac = function LayoutComponent_Factory(t) {\n  return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.ContactsOnlineService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ChatService));\n};\n\nLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LayoutComponent,\n  selectors: [[\"app-layout\"]],\n  decls: 9,\n  vars: 0,\n  consts: [[1, \"main\"]],\n  template: function LayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelementStart(1, \"header\");\n      i0.ɵɵelement(2, \"app-header\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"aside\");\n      i0.ɵɵelement(4, \"app-menu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"main\", 0);\n      i0.ɵɵelement(6, \"router-outlet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"footer\");\n      i0.ɵɵelement(8, \"app-footer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i4.HeaderComponent, i5.MenuComponent, i2.RouterOutlet, i6.FooterComponent],\n  styles: [\"div[_ngcontent-%COMP%]{\\r\\n    height: 100%;\\r\\n     box-sizing: border-box; \\r\\n     display: grid; \\r\\n    grid-template-rows: 15% 80% 5%;\\r\\n    grid-template-columns: repeat(12, 1fr);\\r\\n}\\r\\n\\r\\ndiv[_ngcontent-%COMP%], div[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\r\\n    border: 1px solid black;\\r\\n}\\r\\n\\r\\n.main[_ngcontent-%COMP%]{\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\nheader[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{\\r\\n    grid-column: span 12;\\r\\n}\\r\\n\\r\\naside[_ngcontent-%COMP%]{\\r\\n    grid-column: span 2;\\r\\n}\\r\\n\\r\\nmain[_ngcontent-%COMP%]{\\r\\n    grid-column: span 10;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheW91dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtLQUNYLHNCQUFzQjtLQUN0QixhQUFhO0lBQ2QsOEJBQThCO0lBQzlCLHNDQUFzQztBQUMxQzs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFDQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9CQUFvQjs7QUFFeEIiLCJmaWxlIjoibGF5b3V0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJkaXZ7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsgXHJcbiAgICAgZGlzcGxheTogZ3JpZDsgXHJcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDE1JSA4MCUgNSU7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMiwgMWZyKTtcclxufVxyXG5cclxuZGl2ICwgZGl2ID4gKiB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxufVxyXG4ubWFpbntcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuaGVhZGVyLCBmb290ZXJ7XHJcbiAgICBncmlkLWNvbHVtbjogc3BhbiAxMjtcclxufVxyXG5cclxuYXNpZGV7XHJcbiAgICBncmlkLWNvbHVtbjogc3BhbiAyO1xyXG59XHJcblxyXG5tYWlue1xyXG4gICAgZ3JpZC1jb2x1bW46IHNwYW4gMTA7XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iXX0= */\"]\n});\nLayoutComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LayoutComponent,\n  factory: LayoutComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\layout\\layout.component.ts","C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\layout\\layout.component.html"],"names":[],"mappings":";;;;;;;;AAeA,OAAM,MAAO,eAAP,CAAsB;AAM1B,EAAA,WAAA,CAAmB,gBAAnB,EAAmE,KAAnE,EACS,WADT,EACiC;AADd,SAAA,gBAAA,GAAA,gBAAA;AAAgD,SAAA,KAAA,GAAA,KAAA;AAC1D,SAAA,WAAA,GAAA,WAAA;AAJF,SAAA,IAAA,GAAc,IAAI,IAAJ,EAAd;AACA,SAAA,aAAA,GAAkC,EAAlC;AACA,SAAA,cAAA,GAAkC,EAAlC;AAEgC;;AAC1B,EAAA,QAAQ,GAAA;AAAA;;AAAA;AAEnB,MAAA,WAAW,iCAAC,aAAW;AACrB,YAAG,KAAI,CAAC,IAAL,CAAU,QAAV,MAAwB,CAAxB,IAA6B,KAAI,CAAC,IAAL,CAAU,UAAV,MAA0B,CAAvD,IAA4D,YAAY,CAAC,OAAb,CAAqB,MAArB,KAAgC,IAA/F,EACA;AACE,UAAA,KAAI,CAAC,aAAL,SAA2B,KAAI,CAAC,gBAAL,CAAsB,WAAtB,EAA3B;;AACA,UAAA,KAAI,CAAC,aAAL,CAAmB,GAAnB;AAAA,0CAAuB,WAAO,CAAP,EAAY;AACjC,oBAAM,KAAI,CAAC,gBAAL,CAAsB,WAAtB,CAAkC,CAAC,CAAC,IAApC,CAAN;AACD,aAFD;;AAAA;AAAA;AAAA;AAAA;;AAGC,UAAA,KAAI,CAAC,cAAL,SAA4B,KAAI,CAAC,WAAL,CAAiB,cAAjB,EAA5B;;AACA,UAAA,KAAI,CAAC,cAAL,CAAoB,GAApB;AAAA,0CAAwB,WAAO,CAAP,EAAY;AAClC,oBAAO,KAAI,CAAC,WAAL,CAAiB,aAAjB,CAA+B,CAAC,CAAC,EAAjC,CAAP;AACD,aAFD;;AAAA;AAAA;AAAA;AAAA;;AAID,UAAA,YAAY,CAAC,UAAb,CAAwB,MAAxB;AACA,UAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,OAAzB;;AACA,UAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AACA;AACD;AACF,OAlBU,GAkBT,IAlBS,CAAX;AAmBA;AArBmB;AAsBpB;;AA9ByB;;;mBAAf,e,EAAe,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,qBAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,WAAA,C;AAAA,C;;;QAAf,e;AAAe,EAAA,SAAA,EAAA,CAAA,CAAA,YAAA,CAAA,C;AAAA,EAAA,KAAA,EAAA,C;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,wBAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;ACf5B,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,YAAA;AAAyB,MAAA,EAAA,CAAA,YAAA;AACjC,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,OAAA;AAAO,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA;AAAqB,MAAA,EAAA,CAAA,YAAA;AAC5B,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA;AAAmB,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,eAAA;AAA+B,MAAA,EAAA,CAAA,YAAA;AAClD,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA;AAAQ,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,YAAA;AAAyB,MAAA,EAAA,CAAA,YAAA;AACnC,MAAA,EAAA,CAAA,YAAA;;;;;;;SDUW,e;AAAe,EAAA,OAAA,EAAf,eAAe,CAAA,I;AAAA,EAAA,UAAA,EAFd","sourcesContent":["import { Component, Injectable, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ChatModel } from 'src/app/Models/ChatModel';\nimport { ContactArray } from 'src/app/Models/ContactArray';\nimport { ChatService } from 'src/app/Services/ChatService';\nimport { ContactsOnlineService } from 'src/app/Services/ContactsOnlineService';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.css']\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class LayoutComponent implements OnInit {\n\n  \n  public date : Date = new Date();\n  public contactsArray : ContactArray [] = [];\n  public GetAllMessages : ChatModel   [] = [];\n  constructor(public Service_contacts: ContactsOnlineService, public route: Router,\n    public ChatService: ChatService ) { }\n  public async ngOnInit() {\n    \n    setInterval(async () =>{\n      if(this.date.getHours() == 3 && this.date.getMinutes() == 7 && localStorage.getItem(\"User\") != null)\n      {\n        this.contactsArray = await this.Service_contacts.GetAllUsers();\n        this.contactsArray.map(async (x) =>{\n          await this.Service_contacts.Delete_User(x.name);\n        });\n         this.GetAllMessages = await this.ChatService.GetAllMessages();\n         this.GetAllMessages.map(async (x) =>{\n           await  this.ChatService.DeleteMessage(x.id);  \n         })\n        \n        localStorage.removeItem(\"User\");\n        localStorage.removeItem(\"token\");\n        this.route.navigateByUrl(\"/Home\");\n        window.location.reload();\n        return\n      }\n    },3000)\n    return;\n  }\n\n}\n","<div>\n    <header><app-header></app-header></header>\n    <aside><app-menu></app-menu></aside>\n    <main class=\"main\"><router-outlet></router-outlet></main>\n    <footer><app-footer></app-footer></footer>\n  </div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}