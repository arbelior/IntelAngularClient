{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nlet CCCComponent = class CCCComponent {\n  constructor(Authentication_permissionService, ChatService) {\n    this.Authentication_permissionService = Authentication_permissionService;\n    this.ChatService = ChatService;\n    this.IfLogin = false;\n    this.ShowLogin = true;\n    this.ShowLogout = false;\n    this.IfUserlogin = false;\n    this.user = {};\n    this.creditionals = new Creditionals();\n    this.AddMessage = {};\n    this.AllMessages = [];\n  }\n\n  ngOnInit() {// this.ShowUser = localStorage.getItem(\"UserCCC\");\n    // setTimeout(() =>{\n    //   this.CallToShowAllMesassages();\n    // },1000)\n  }\n\n  CallToShowAllMesassages() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.AllMessages = yield _this.ChatService.GetAllMessages();\n    })();\n  }\n\n  Open_Login() {\n    this.IfLogin = true;\n  }\n\n  Tologin() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.user = yield _this2.Authentication_permissionService.GotToken(_this2.creditionals);\n\n        if (_this2.user.jwt_token != null && _this2.user.first_name != null) {\n          localStorage.setItem(\"tokeCCC\", _this2.user.jwt_token);\n          localStorage.setItem(\"UserCCC\", _this2.user.first_name);\n          _this2.IfLogin = false;\n          _this2.ShowLogin = false;\n          _this2.IfUserlogin = true;\n          _this2.ShowLogout = true;\n        }\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  SendMessgae() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this3.AddMessage = yield _this3.ChatService.AddMessage(_this3.sendMessage);\n        console.log(_this3.AddMessage);\n        console.log(_this3.AddMessage);\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  ToCancel() {\n    this.IfLogin = false;\n  }\n\n};\nCCCComponent = __decorate([Component({\n  selector: 'app-ccc',\n  templateUrl: './ccc.component.html',\n  styleUrls: ['./ccc.component.css'],\n  styles: []\n})], CCCComponent);\nexport { CCCComponent };","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\ccc\\ccc.component.ts"],"names":[],"mappings":";;AAAA,SAAS,SAAT,QAAkC,eAAlC;AAGA,SAAS,YAAT,QAA6B,6BAA7B;AASA,IAAa,YAAY,GAAzB,MAAa,YAAb,CAAyB;AAYvB,EAAA,WAAA,CAAmB,gCAAnB,EAAgG,WAAhG,EAAwH;AAArG,SAAA,gCAAA,GAAA,gCAAA;AAA6E,SAAA,WAAA,GAAA,WAAA;AAVzF,SAAA,OAAA,GAAe,KAAf;AACA,SAAA,SAAA,GAAe,IAAf;AACA,SAAA,UAAA,GAAe,KAAf;AACA,SAAA,WAAA,GAAe,KAAf;AAGA,SAAA,IAAA,GAAyC,EAAzC;AACA,SAAA,YAAA,GAAgB,IAAI,YAAJ,EAAhB;AACA,SAAA,UAAA,GAAwB,EAAxB;AACA,SAAA,WAAA,GAA6B,EAA7B;AACsH;;AAE7H,EAAA,QAAQ,GAAA,CACN;AACA;AACA;AACA;AACD;;AAEa,EAAA,uBAAuB,GAAA;AAAA;;AAAA;AAEnC,MAAA,KAAI,CAAC,WAAL,SAAyB,KAAI,CAAC,WAAL,CAAiB,cAAjB,EAAzB;AAFmC;AAGpC;;AAED,EAAA,UAAU,GAAA;AAER,SAAK,OAAL,GAAe,IAAf;AACD;;AAEY,EAAA,OAAO,GAAA;AAAA;;AAAA;AAElB,UACA;AACE,QAAA,MAAI,CAAC,IAAL,SAAmB,MAAI,CAAC,gCAAL,CAAsC,QAAtC,CAA+C,MAAI,CAAC,YAApD,CAAnB;;AACA,YAAG,MAAI,CAAC,IAAL,CAAU,SAAV,IAAuB,IAAvB,IAA+B,MAAI,CAAC,IAAL,CAAU,UAAV,IAAwB,IAA1D,EACA;AACG,UAAA,YAAY,CAAC,OAAb,CAAqB,SAArB,EAAgC,MAAI,CAAC,IAAL,CAAU,SAA1C;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,SAArB,EAAgC,MAAI,CAAC,IAAL,CAAU,UAA1C;AACA,UAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACA,UAAA,MAAI,CAAC,SAAL,GAAiB,KAAjB;AACA,UAAA,MAAI,CAAC,WAAL,GAAmB,IAAnB;AACA,UAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;AACF;AACF,OAZD,CAcA,OAAO,EAAP,EACA;AACE,QAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACD;AAnBiB;AAoBnB;;AAEY,EAAA,WAAW,GAAA;AAAA;;AAAA;AAEtB,UACA;AACG,QAAA,MAAI,CAAC,UAAL,SAAyB,MAAI,CAAC,WAAL,CAAiB,UAAjB,CAA4B,MAAI,CAAC,WAAjC,CAAzB;AACA,QAAA,OAAO,CAAC,GAAR,CAAa,MAAI,CAAC,UAAlB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,UAAjB;AACF,OALD,CAOA,OAAM,EAAN,EACA;AACE,QAAA,KAAK,CAAC,EAAE,CAAC,OAAJ,CAAL;AACD;AAZqB;AAavB;;AAED,EAAA,QAAQ,GAAA;AAEN,SAAK,OAAL,GAAe,KAAf;AAED;;AAxEsB,CAAzB;AAAa,YAAY,GAAA,UAAA,CAAA,CALxB,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,SADD;AAET,EAAA,WAAW,EAAE,sBAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,qBAAD,CAHF;;AAAA,CAAD,CAKe,CAAA,EAAZ,YAAY,CAAZ;SAAA,Y","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Authentication_permissionsModel } from 'src/app/Models/Authentication_permissionsModel';\nimport { ChatModel } from 'src/app/Models/ChatModel';\nimport { Creditionals } from 'src/app/Models/Creditionals';\nimport { Authentication_permissionsService } from 'src/app/Services/Authentication_permissionsService';\nimport { ChatService } from 'src/app/Services/ChatService';\n\n@Component({\n  selector: 'app-ccc',\n  templateUrl: './ccc.component.html',\n  styleUrls: ['./ccc.component.css']\n})\nexport class CCCComponent implements OnInit {\n\n  public IfLogin     =  false;\n  public ShowLogin   =  true;\n  public ShowLogout  =  false;\n  public IfUserlogin =  false;\n  public ShowUser:any; \n  public sendMessage: any;\n  public user : Authentication_permissionsModel = {};\n  public creditionals  = new Creditionals();\n  public AddMessage : ChatModel ={};\n  public AllMessages : ChatModel [] = [];\n  constructor(public Authentication_permissionService : Authentication_permissionsService, public ChatService: ChatService ) {}\n\n  ngOnInit(): void {\n    // this.ShowUser = localStorage.getItem(\"UserCCC\");\n    // setTimeout(() =>{\n    //   this.CallToShowAllMesassages();\n    // },1000)\n  }\n\n  public async  CallToShowAllMesassages()\n  {\n    this.AllMessages = await this.ChatService.GetAllMessages();\n  }\n\n  Open_Login()\n  {\n    this.IfLogin = true;\n  }\n\n  public async Tologin() \n  {\n    try \n    {\n      this.user = (await this.Authentication_permissionService.GotToken(this.creditionals));\n      if(this.user.jwt_token != null && this.user.first_name != null)\n      {\n         localStorage.setItem(\"tokeCCC\", this.user.jwt_token);\n         localStorage.setItem(\"UserCCC\", this.user.first_name);\n         this.IfLogin = false;\n         this.ShowLogin = false;\n         this.IfUserlogin = true;\n         this.ShowLogout = true;\n      }  \n    } \n\n    catch (ex :any) \n    {\n      alert(ex.message);\n    } \n  }\n\n  public async SendMessgae()\n  {\n    try\n    {\n       this.AddMessage =  await this.ChatService.AddMessage(this.sendMessage);\n       console.log( this.AddMessage);\n       console.log(this.AddMessage);\n    }\n\n    catch(ex: any)\n    {\n      alert(ex.message);\n    }\n  }\n\n  ToCancel() \n  {\n    this.IfLogin = false;\n\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}