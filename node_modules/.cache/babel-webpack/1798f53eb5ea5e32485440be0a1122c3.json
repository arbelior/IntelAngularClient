{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, Injectable, Input } from '@angular/core';\nimport { Module } from 'src/app/Models/Module';\nimport { Resume_model } from 'src/app/Models/Resume_model';\nlet ModulesComponent = class ModulesComponent {\n  constructor(maintanace, Home, Service_Mod, router, s) {\n    this.maintanace = maintanace;\n    this.Home = Home;\n    this.Service_Mod = Service_Mod;\n    this.router = router;\n    this.s = s;\n    this.Allmodules = [];\n    this.modules = [];\n    this.Alltools = [];\n    this.ToolsPer_mod = [];\n    this.Check_Module_ToTool = [];\n    this.CheckedItem = false;\n    this.IfSave = false;\n    this.ResumeToTask = new Resume_model();\n    this.dt = new Date();\n    this.ShowAlarm = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.GetAllModulesDistnict();\n    })();\n  }\n\n  GetAllModulesDistnict() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.modules = [];\n      let count;\n\n      try {\n        _this2.Allmodules = yield _this2.Service_Mod.GetDataModelperMod();\n\n        _this2.Allmodules.map(x => {\n          count = 0;\n\n          _this2.modules.map(y => {\n            if (x.module == y.module) {\n              count++;\n            }\n          });\n\n          if (count == 0) _this2.modules.push(new Module(undefined, x.module));\n        });\n      } catch (err) {\n        alert(err.message);\n      }\n    })();\n  }\n\n  GetToolsPerModules(val) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.ToolsPer_mod = [];\n      let count = 0;\n\n      try {\n        _this3.Alltools = yield _this3.Service_Mod.GetToolsPerModule(val);\n        console.log(_this3.Alltools);\n\n        _this3.Alltools.map(x => {\n          _this3.ToolsPer_mod.map(y => {\n            if (x.tool == y.tool) {\n              count++;\n            }\n          });\n\n          if (count == 0) {\n            _this3.ToolsPer_mod.push(new Module(x.tool));\n          }\n\n          count = 0;\n        });\n      } catch (err) {\n        alert(err.message);\n      }\n    })();\n  }\n\n  Return() {\n    this.router.navigateByUrl(\"/Home\");\n  }\n\n  Next() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      let Get = yield _this4.CheckItemFun();\n\n      if (_this4.CheckedItem == true) {\n        _this4.Service_Mod.ToolChoice = _this4.selectedValue;\n\n        _this4.router.navigateByUrl(_this4.Url_direction);\n\n        _this4.CheckedItem = false;\n      } else // alert(\"Pls choose Module and Tool and than press NEXT\");\n        _this4.ShowAlarm = true;\n    })();\n  }\n\n  CheckItemFun() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this5.Check_Module_ToTool = yield _this5.Service_Mod.GetAllDataModules();\n\n        _this5.Check_Module_ToTool.map(x => {\n          if (_this5.Module_Value != undefined && _this5.selectedValue != undefined) {\n            if (x.module == _this5.Module_Value && x.tool == _this5.selectedValue) _this5.CheckedItem = true;\n            return;\n          }\n\n          _this5.CheckedItem = false;\n        });\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  Save() {\n    this.IfSave = true;\n  }\n\n  ToCancel() {\n    this.IfSave = false;\n    this.ResumeToTask.name = undefined;\n    this.ResumeToTask.task = undefined;\n  }\n\n  ToSave() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      _this6.ResumeToTask.date = _this6.dt;\n      _this6.ResumeToTask.router = _this6.router.url;\n\n      try {\n        const AddResume = yield _this6.s.AddTaskToSaveResume(_this6.ResumeToTask);\n        _this6.IfSave = false;\n        _this6.ResumeToTask.name = undefined;\n        _this6.ResumeToTask.task = undefined;\n      } catch (ex) {\n        alert(ex.message);\n        _this6.IfSave = false;\n      }\n    })();\n  }\n\n  OkToAlarmMessage() {\n    this.ShowAlarm = false;\n  }\n\n};\n\n__decorate([Input()], ModulesComponent.prototype, \"Url_direction\", void 0);\n\nModulesComponent = __decorate([Injectable({\n  providedIn: 'root'\n}), Component({\n  selector: 'app-modules',\n  templateUrl: './modules.component.html',\n  styleUrls: ['./modules.component.css'],\n  styles: []\n})], ModulesComponent);\nexport { ModulesComponent };","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\modules\\modules.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, Injectable, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Module } from 'src/app/Models/Module';\nimport { Resume_model } from 'src/app/Models/Resume_model';\nimport { ModuleService } from 'src/app/Services/ModuleService';\nimport { ResumeService } from 'src/app/Services/ResumeTaskServer';\nimport { HomeComponent } from '../home/home.component';\n\n@Injectable({\n  providedIn: 'root'\n})\n@Component({\n  selector: 'app-modules',\n  templateUrl: './modules.component.html',\n  styleUrls: ['./modules.component.css']\n})\nexport class ModulesComponent implements OnInit {\n\n  public Allmodules          :   Module [] = [];\n  public modules             :   Module [] = [];\n  public Alltools            :   Module [] = [];\n  public ToolsPer_mod        :   Module [] = [];\n  public Check_Module_ToTool :   Module [] = [];\n  public Module_Value:  any;\n  public selectedValue: any;\n  public CheckedItem: boolean = false;\n  public IfSave = false;\n  public ResumeToTask = new Resume_model();\n  public dt = new Date();\n  public ShowAlarm = false;\n\n\n  @Input()\n  public Url_direction: any;\n\n\n  constructor(public maintanace,public Home: HomeComponent,public Service_Mod : ModuleService, public router: Router,public s: ResumeService) { }\n\n  async ngOnInit() {\n     \n    this.GetAllModulesDistnict();\n  }\n\n   async GetAllModulesDistnict()\n   {\n     this.modules=[];\n     let count:number;\n     try {\n       this.Allmodules = await this.Service_Mod.GetDataModelperMod();\n       this.Allmodules.map((x) =>{\n         count=0;\n         this.modules.map((y) =>{\n           if(x.module == y.module)\n           {\n             count++;\n           }           \n         });\n          if(count == 0)\n         this.modules.push(new Module(undefined,x.module));         \n       });\n     }\n      catch (err: any) {\n       alert(err.message);\n     }\n   }\n\n   async GetToolsPerModules(val: any)\n   { \n     this.ToolsPer_mod=[];  \n     let count: number=0;\n     try {\n      this.Alltools = await this.Service_Mod.GetToolsPerModule(val);\n      console.log(this.Alltools);\n      this.Alltools.map((x)=>{\n      this.ToolsPer_mod.map((y) =>{\n          if(x.tool == y.tool)\n          {\n            count++;\n          }\n        });\n        if(count == 0)\n      {\n        this.ToolsPer_mod.push(new Module(x.tool));\n      }\n        count=0;\n      });\n     }\n      catch (err: any) {\n       alert(err.message);\n     }\n     \n   }\n\n   Return()\n   {\n     this.router.navigateByUrl(\"/Home\");\n   }\n\n   async Next()\n   {\n     let Get = await this.CheckItemFun();\n    if(this.CheckedItem == true)\n    {\n      this.Service_Mod.ToolChoice = this.selectedValue;\n      \n      this.router.navigateByUrl(this.Url_direction);\n      this.CheckedItem=false;\n    }\n    else\n      // alert(\"Pls choose Module and Tool and than press NEXT\");\n      this.ShowAlarm=true;\n   }\n\n   async CheckItemFun()\n   {\n    \n      try {\n        this.Check_Module_ToTool = await this.Service_Mod.GetAllDataModules();\n        this.Check_Module_ToTool.map((x) =>{\n          if(this.Module_Value!= undefined && this.selectedValue != undefined)\n          {\n              if(x.module == this.Module_Value && x.tool == this.selectedValue)\n                this.CheckedItem = true;\n                return;\n          }\n          this.CheckedItem = false;       \n        });\n      } catch (ex: any) {\n        alert(ex.message);\n        \n      }\n    }\n\n    Save()\n    {\n      this.IfSave = true;\n    }\n\n    ToCancel()\n    {\n      this.IfSave = false;\n      this.ResumeToTask.name = undefined;\n      this.ResumeToTask.task = undefined;\n    }\n\n    async ToSave()\n    {\n      this.ResumeToTask.date = this.dt;\n      this.ResumeToTask.router = this.router.url;\n    \n      try\n      {\n      const AddResume = await this.s.AddTaskToSaveResume(this.ResumeToTask);\n      this.IfSave = false;\n      this.ResumeToTask.name = undefined;\n      this.ResumeToTask.task = undefined;\n      }\n    \n      catch(ex: any)\n      {\n        alert(ex.message);\n        this.IfSave = false;   \n      }\n\n    }\n\n    OkToAlarmMessage()\n    {\n      this.ShowAlarm = false;\n    }\n\n    \n\n   }\n\n\n\n\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}