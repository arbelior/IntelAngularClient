{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/FInal_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Component, Injectable } from '@angular/core';\nimport { IfdeviationModel } from 'src/app/Models/IfdeviationModel';\nimport * as i0 from \"@angular/core\";\nexport class GaslistComponent {\n  constructor(s, route) {\n    this.s = s;\n    this.route = route;\n    this.GasListModel = [];\n    this.ShowTool = this.s.ToolChoice;\n    this.FailedGases = [];\n    this.FillArrayIf_devation = [];\n    this.CheckIf_deviation = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.GasListModel = yield _this.s.GetDataPerTool(_this.ShowTool);\n      } catch (ex) {\n        alert(ex.message);\n      }\n    })();\n  }\n\n  checkBox(val) {\n    const gas_line = val.target.value;\n    const Is_check = val.target.checked;\n    this.GasListModel.map(d => {\n      if (d.gasline == gas_line) {\n        d.Select = Is_check;\n\n        if (d.Select == false) {\n          d.status = undefined;\n          d.Ac = undefined;\n        }\n\n        return;\n      }\n\n      return;\n    });\n  }\n\n  checkValueAC(val, name) {\n    this.GasListModel.map(gas => {\n      if (val != undefined && gas.gasname == name) {\n        gas.Ac = val.target.value;\n\n        if (gas.Ac != undefined && gas.lower_limit != undefined && gas.upper_limit != undefined) {\n          if (gas.Ac >= gas.upper_limit * 1.03 || gas.Ac <= gas.lower_limit * 0.97 && gas.Ac > 0) gas.status = \"deviation update ENG\";else if (gas.Ac >= gas.lower_limit && gas.Ac <= gas.upper_limit) gas.status = \"Passed\";else if (gas.Ac < gas.lower_limit || gas.Ac > gas.upper_limit && gas.Ac > 0) gas.status = \"Failed\";else if (gas.Select == true && this.checkIfInvalid() == true) {} else gas.status = undefined;\n        }\n      }\n    });\n  }\n\n  CheckIf_Failed() {\n    this.CheckIf_deviation = false;\n    this.FailedGases = this.GasListModel.filter(x => {\n      return x.status == \"Failed\";\n    });\n  }\n\n  Filter() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let Check_FunArray = yield _this2.CheckIf_Failed();\n      _this2.FillArrayIf_devation = [];\n      let Select_Count = 0;\n      let Status_Passed_Count = 0;\n      let logic_Counter = 0;\n\n      _this2.GasListModel.map(gas => {\n        if (gas.Select == true) {\n          Select_Count++;\n          if (gas.status == \"Passed\") Status_Passed_Count++;\n\n          if (gas.status == \"deviation update ENG\") {\n            _this2.FillArrayIf_devation.push(new IfdeviationModel(gas.gasname));\n\n            _this2.CheckIf_deviation = true;\n          }\n\n          if (gas.Select == true && gas.status == undefined) logic_Counter++;\n        }\n      });\n\n      if (_this2.CheckIf_deviation == true) {\n        window.alert(\"Stop Work!!! Pls verify limits with the spec because there is deviation status in data table : \" + \" \" + JSON.stringify(_this2.FillArrayIf_devation));\n        return;\n      }\n\n      if (logic_Counter > 0) return;else {\n        if (Select_Count == Status_Passed_Count) {\n          alert(\"The AC results are founds in spec Limit Not need  adjust\");\n\n          _this2.route.navigateByUrl(\"/Home\");\n        } else {\n          _this2.s.ReturnGasFailedArray = _this2.FailedGases;\n\n          _this2.route.navigateByUrl(\"/Gas-failed\");\n        }\n      }\n    })();\n  }\n\n  checkIfInvalid(val) {\n    let check = val.target.value;\n\n    if (check.length == 0) {\n      this.checkIfAc_define = false;\n      return this.checkIfAc_define;\n    } else this.checkIfAc_define = true;\n\n    return this.checkIfAc_define;\n  }\n\n  Return_Back() {\n    this.route.navigateByUrl(\"/GAS-Adj\");\n  }\n\n}\nGaslistComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GaslistComponent,\n  factory: GaslistComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\lior\\FInal_PRO Intel\\IntelProject\\src\\app\\components\\gaslist\\gaslist.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { NgSwitch, NgSwitchCase, NgSwitchDefault } from '@angular/common';\nimport { Component, Injectable, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { GasModel } from 'src/app/Models/Gas_model';\nimport { IfdeviationModel } from 'src/app/Models/IfdeviationModel';\nimport { ModuleService } from 'src/app/Services/ModuleService';\n\n@Component({\n  selector: 'app-gaslist',\n  templateUrl: './gaslist.component.html',\n  styleUrls: ['./gaslist.component.css']\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class GaslistComponent implements OnInit {\n\n  public GasListModel:            GasModel  [] = [];\n  public ShowTool:                any =     this.s.ToolChoice;\n  public FailedGases:             GasModel  [] = [];\n  public FillArrayIf_devation:    IfdeviationModel [] = [];\n  public CheckIf_deviation : boolean = false;\n  public SaveAcIf_define   : any;\n  public checkIfAc_define:any;\n\n  constructor(public s: ModuleService, public route: Router) { }\n\n  async ngOnInit() {\n    try\n     {\n     this.GasListModel = await this.s.GetDataPerTool(this.ShowTool);\n     }\n    catch (ex: any)\n    {\n        alert(ex.message);\n    }\n }\n\n checkBox(val: any)\n { \n  const gas_line = val.target.value\n  const Is_check = val.target.checked\n\n  this.GasListModel.map((d) =>{\n      if(d.gasline == gas_line)\n      {\n        d.Select = Is_check\n        if(d.Select == false)\n        {\n          d.status=undefined;\n          d.Ac = undefined;\n        }\n        return;\n      }\n       return;\n  })\n}\n\ncheckValueAC(val: any, name: any)\n{\n    this.GasListModel.map((gas) =>{\n      if(val != undefined  && gas.gasname == name)\n      {\n        gas.Ac = val.target.value;\n\n        if(gas.Ac != undefined && gas.lower_limit != undefined && gas.upper_limit != undefined)\n        {\n\n           if(gas.Ac >= gas.upper_limit * 1.03 || gas.Ac <= gas.lower_limit * 0.97 && gas.Ac > 0)\n              gas.status = \"deviation update ENG\"\n\n          else if(gas.Ac >= gas.lower_limit && gas.Ac <= gas.upper_limit)\n                  gas.status = \"Passed\";        \n\n            else if(gas.Ac < gas.lower_limit || gas.Ac > gas.upper_limit && gas.Ac>0)\n                   gas.status = \"Failed\";   \n                   \n            else if(gas.Select == true && this.checkIfInvalid() == true)\n            {}\n                   \n           else\n                   gas.status = undefined;\n        }\n      }\n    });\n}\n\nCheckIf_Failed()\n{\n  this.CheckIf_deviation = false;\n  this.FailedGases = this.GasListModel.filter((x) => {\n    return x.status == \"Failed\";\n  });\n}\n\nasync Filter()\n{\n  let Check_FunArray = await this.CheckIf_Failed();\n    this.FillArrayIf_devation  = [];\n    let Select_Count           = 0;\n    let Status_Passed_Count    = 0;\n    let logic_Counter          = 0;\n\n    this.GasListModel.map((gas) => {\n      if(gas.Select == true)\n      {\n        Select_Count++;\n\n        if(gas.status == \"Passed\")\n            Status_Passed_Count++;\n\n        if(gas.status == \"deviation update ENG\")\n        {\n          this.FillArrayIf_devation.push (new IfdeviationModel(gas.gasname))\n          this.CheckIf_deviation = true;\n        }\n\n        if(gas.Select == true && gas.status == undefined)\n        logic_Counter++;\n      }       \n    });\n\n    if(this.CheckIf_deviation == true)\n    {\n       window.alert(\"Stop Work!!! Pls verify limits with the spec because there is deviation status in data table : \" + \" \" +  JSON.stringify(this.FillArrayIf_devation));    \n      return;\n    }\n\n    if(logic_Counter > 0)\n    return;\n  \n     \n    else\n    {\n      if(Select_Count == Status_Passed_Count)\n      {\n        alert(\"The AC results are founds in spec Limit Not need  adjust\");\n        this.route.navigateByUrl(\"/Home\")\n      }\n  \n      else\n      {\n         this.s.ReturnGasFailedArray=this.FailedGases;\n         this.route.navigateByUrl(\"/Gas-failed\");\n      }\n    }\n \n}\n\ncheckIfInvalid(val: any): boolean\n{\n  let check = val.target.value\n  if(check.length == 0)\n  {\n    this.checkIfAc_define = false;  \n    return this.checkIfAc_define;\n  }\n\n  else\n  this.checkIfAc_define = true;\n  return this.checkIfAc_define;\n\n}\n\n\nReturn_Back()\n{\n   this.route.navigateByUrl(\"/GAS-Adj\");\n}\n\n\n\n\n\n\n }\n\n\n  \n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}