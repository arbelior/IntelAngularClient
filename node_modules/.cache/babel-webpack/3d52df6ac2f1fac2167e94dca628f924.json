{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lior/Final_PRO Intel/IntelProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, Injectable } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(Service_contacts, route, ChatServicedelete) {\n    this.Service_contacts = Service_contacts;\n    this.route = route;\n    this.ChatServicedelete = ChatServicedelete;\n    this.date = new Date();\n    this.contactsArray = [];\n    this.DeleteAllMessages = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      setInterval( /*#__PURE__*/_asyncToGenerator(function* () {\n        if (_this.date.getHours() == 18 && _this.date.getMinutes() == 22) {\n          _this.contactsArray = yield _this.Service_contacts.GetAllUsers();\n\n          _this.contactsArray.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (x) {\n              yield _this.Service_contacts.Delete_User(x.name);\n            });\n\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n\n          localStorage.removeItem(\"User\");\n          localStorage.removeItem(\"token\");\n\n          _this.route.navigateByUrl(\"/Home\");\n        }\n      }), 3000);\n    })();\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  styles: []\n}), Injectable({\n  providedIn: 'root'\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"sources":["C:\\Users\\lior\\Final_PRO Intel\\IntelProject\\src\\app\\components\\home\\home.component.ts"],"names":[],"mappings":";;AAAA,SAAS,SAAT,EAAoB,UAApB,QAA8C,eAA9C;AAcA,IAAa,aAAa,GAA1B,MAAa,aAAb,CAA0B;AAMxB,EAAA,WAAA,CAAmB,gBAAnB,EAAmE,KAAnE,EACS,iBADT,EACuC;AADpB,SAAA,gBAAA,GAAA,gBAAA;AAAgD,SAAA,KAAA,GAAA,KAAA;AAC1D,SAAA,iBAAA,GAAA,iBAAA;AALF,SAAA,IAAA,GAAc,IAAI,IAAJ,EAAd;AACA,SAAA,aAAA,GAAiC,EAAjC;AACA,SAAA,iBAAA,GAAmC,EAAnC;AAGsC;;AAEvC,EAAA,QAAQ,GAAA;AAAA;;AAAA;AACZ,MAAA,WAAW,iCAAC,aAAW;AACrB,YAAG,KAAI,CAAC,IAAL,CAAU,QAAV,MAAwB,EAAxB,IAA8B,KAAI,CAAC,IAAL,CAAU,UAAV,MAA0B,EAA3D,EACA;AACE,UAAA,KAAI,CAAC,aAAL,SAA2B,KAAI,CAAC,gBAAL,CAAsB,WAAtB,EAA3B;;AACA,UAAA,KAAI,CAAC,aAAL,CAAmB,GAAnB;AAAA,0CAAuB,WAAO,CAAP,EAAY;AACjC,oBAAM,KAAI,CAAC,gBAAL,CAAsB,WAAtB,CAAkC,CAAC,CAAC,IAApC,CAAN;AACD,aAFD;;AAAA;AAAA;AAAA;AAAA;;AAGA,UAAA,YAAY,CAAC,UAAb,CAAwB,MAAxB;AACA,UAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,OAAzB;AAED;AACF,OAZU,GAYT,IAZS,CAAX;AADY;AAcb;;AAvBuB,CAA1B;AAAa,aAAa,GAAA,UAAA,CAAA,CARzB,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,UADD;AAET,EAAA,WAAW,EAAE,uBAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,sBAAD,CAHF;;AAAA,CAAD,CAQgB,EAHzB,UAAU,CAAC;AACV,EAAA,UAAU,EAAE;AADF,CAAD,CAGe,CAAA,EAAb,aAAa,CAAb;SAAA,a","sourcesContent":["import { Component, Injectable, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ChatModel } from 'src/app/Models/ChatModel';\nimport { ContactArray } from 'src/app/Models/ContactArray';\nimport { ContactsOnlineService } from 'src/app/Services/ContactsOnlineService';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\n@Injectable({\n  providedIn: 'root'\n})\nexport class HomeComponent implements OnInit {\n\n  public date : Date = new Date();\n  public contactsArray : ContactArray[] = [];\n  public DeleteAllMessages : ChatModel [] = [];\n\n  constructor(public Service_contacts: ContactsOnlineService, public route: Router,\n    public ChatServicedelete: ChatService ) { }\n\n  async ngOnInit() {\n    setInterval(async () =>{\n      if(this.date.getHours() == 18 && this.date.getMinutes() == 22)\n      {\n        this.contactsArray = await this.Service_contacts.GetAllUsers();\n        this.contactsArray.map(async (x) =>{\n          await this.Service_contacts.Delete_User(x.name);\n        });\n        localStorage.removeItem(\"User\");\n        localStorage.removeItem(\"token\");\n        this.route.navigateByUrl(\"/Home\");\n\n      }\n    },3000)\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}